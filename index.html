<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Customer Feedback</title>
  <style>
    body { font-family: Arial, sans-serif; background:#111; color:white; text-align:center; }
    h1 { margin-top:20px; }

    /* Feedback form */
    .feedback-form { background:#222; padding:20px; margin:20px auto; width:350px; border-radius:10px; }
    textarea { width:100%; height:80px; margin-top:10px; padding:10px; border:none; border-radius:5px; }
    button { margin-top:10px; padding:10px 20px; border:none; border-radius:5px; background:#0f9; color:black; cursor:pointer; }

    /* Stars */
    .stars { display:flex; justify-content:center; gap:5px; margin:10px 0; }
    .star { font-size:30px; cursor:pointer; color:gray; transition:0.3s; }
    .star.selected, .star:hover { color:gold; }

    /* Feedback list */
    .feedback-list { margin-top:30px; }
    .feedback-item { background:#222; padding:15px; margin:10px auto; width:400px; border-radius:10px; text-align:left; }
    .rating { color:gold; margin-bottom:5px; }
    .comment { color:#ddd; }
  </style>
</head>
<body>

  <h1>⭐ Customer Feedback</h1>

  <!-- Feedback Display -->
  
  <div class="feedback-list" id="feedbackList"></div>


  <a href="https://www.google.com/maps/place/S.R+Tent+House+%26Supplier/@17.5303943,78.3495761,17z/data=!3m1!4b1!4m6!3m5!1s0x3bcb8dee3bba7347:0x485ee5ed07ca762a!8m2!3d17.5303892!4d78.352151!16s%2Fg%2F11b7xn28zb?authuser=0&entry=ttu&g_ep=EgoyMDI1MDgxMy4wIKXMDSoASAFQAw%3D%3D" 
   target="_blank" 
   style="background:#0f9; padding:10px 20px; border-radius:8px; text-decoration:none; color:black; font-weight:bold;">
   ⭐ Leave a Google Review
</a>


  <script>
    const starContainer = document.getElementById("starContainer");
    const commentBox = document.getElementById("comment");
    const submitBtn = document.getElementById("submitBtn");
    const feedbackList = document.getElementById("feedbackList");

    let selectedRating = 0;

    // Create 5 stars
    for (let i = 1; i <= 5; i++) {
      const star = document.createElement("span");
      star.innerHTML = "★";
      star.classList.add("star");
      star.dataset.value = i;

      // Hover effect
      star.addEventListener("mouseover", () => {
        document.querySelectorAll(".star").forEach(s => s.style.color = "gray");
        for (let j = 0; j < i; j++) {
          document.querySelectorAll(".star")[j].style.color = "gold";
        }
      });

      // Click to select
      star.addEventListener("click", () => {
        selectedRating = i;
        document.querySelectorAll(".star").forEach(s => s.classList.remove("selected"));
        for (let j = 0; j < i; j++) {
          document.querySelectorAll(".star")[j].classList.add("selected");
        }
      });

      starContainer.appendChild(star);
    }

    // Load saved feedback
    window.onload = () => {
      let saved = JSON.parse(localStorage.getItem("feedbacks")) || [];
      saved.forEach(item => addFeedbackToList(item.rating, item.comment));
    };

    // Submit feedback
    submitBtn.addEventListener("click", () => {
      if (selectedRating === 0) return alert("Please select a rating!");
      if (commentBox.value.trim() === "") return alert("Please enter a comment!");

      const feedback = { rating: selectedRating, comment: commentBox.value };

      // Save in localStorage
      let saved = JSON.parse(localStorage.getItem("feedbacks")) || [];
      saved.push(feedback);
      localStorage.setItem("feedbacks", JSON.stringify(saved));

      // Add to page
      addFeedbackToList(feedback.rating, feedback.comment);

      // Reset form
      selectedRating = 0;
      document.querySelectorAll(".star").forEach(s => s.classList.remove("selected"));
      document.querySelectorAll(".star").forEach(s => s.style.color = "gray");
      commentBox.value = "";
    });

    // Add feedback to display list
    function addFeedbackToList(rating, comment) {
      const item = document.createElement("div");
      item.classList.add("feedback-item");

      // stars display
      let starsHTML = "";
      for (let i = 0; i < rating; i++) starsHTML += "★";
      for (let i = rating; i < 5; i++) starsHTML += "☆";

      const ratingDiv = document.createElement("div");
      ratingDiv.classList.add("rating");
      ratingDiv.innerHTML = starsHTML;

      const commentDiv = document.createElement("div");
      commentDiv.classList.add("comment");
      commentDiv.innerText = comment;

      item.appendChild(ratingDiv);
      item.appendChild(commentDiv);

      feedbackList.appendChild(item);
    }
  </script>

</body>
</html>
